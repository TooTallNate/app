overwrite: true
schema:
  - "api/**/*.gql"
  - "!*.generated.graphql"
generates:
  api/schema.generated.graphql:
    plugins:
      - "schema-ast"
  api/common/generated/graphql.ts:
    plugins:
      - "typescript"
      - "typescript-operations"
      - "typescript-resolvers"
    config:
      useIndexSignature: true
      contextType: "../context#GraphqlContext"
      mappers:
        User: "../nav#NavUser"
        Job: "../nav#NavJob"
        Animal: "../nav#NavAnimal"
        Resource: "../nav#NavResource"
        Reason: "../nav#NavReason"
        PigAdjustment: "../models/PigAdjustment#PigAdjustmentDocument"
        PigGradeOff: "../models/PigGradeOff#PigGradeOffDocument"
        PigMortality: "../models/PigMortality#PigMortalityDocument"
        PigMove: "../models/PigMove#PigMoveDocument"
        PigPurchase: "../models/PigPurchase#PigPurchaseDocument"
        PigWean: "../models/PigWean#PigWeanDocument"
        PigActivityDefaults: "../models/UserSettings#UserSettingsDocument"
        FarrowingBackendScorecard: "../scorecard/models/FarrowingBackendScorecard#FarrowingBackendScorecardDocument"
    hooks:
      afterOneFileWrite:
        - eslint --fix
  web/src/user/graphql/index.tsx:
    documents: "web/src/user/graphql/*.gql"
    plugins:
      - "typescript"
      - "typescript-operations"
      - "typescript-react-apollo"
    config:
      withHOC: false
      withHooks: true
      withComponent: false
    hooks:
      afterOneFileWrite:
        - eslint --fix
  web/src/pig-activity/graphql/index.tsx:
    documents: "web/src/pig-activity/graphql/*.gql"
    plugins:
      - "typescript"
      - "typescript-operations"
      - "typescript-react-apollo"
    config:
      withHOC: false
      withHooks: true
      withComponent: false
    hooks:
      afterOneFileWrite:
        - eslint --fix
  web/src/scorecard/graphql/index.tsx:
    documents: "web/src/scorecard/graphql/*.gql"
    plugins:
      - "typescript"
      - "typescript-operations"
      - "typescript-react-apollo"
    config:
      withHOC: false
      withHooks: true
      withComponent: false
    hooks:
      afterOneFileWrite:
        - eslint --fix

